<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- Crucial viewport settings for responsiveness and preventing scaling -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>像素打砖块</title>
    <link rel="stylesheet" href="brick_style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <!-- Optional: Add touch-action style to prevent browser default touch behaviors like scrolling/zooming -->
    <style>
        body { touch-action: manipulation; } /* Apply globally */
    </style>
</head>
<body>
    <!-- 粒子效果背景 -->
    <div id="particles-js-bricks"></div>

    <!-- 背景装饰元素 (Keep as is) -->
    <div class="background-decor">
        <div class="decor-shape block b1"></div>
        <div class="decor-shape block b2"></div>
        <div class="decor-shape ball-shape bs1"></div>
        <div class="decor-shape ball-shape bs2"></div>
    </div>

    <!-- 游戏机主体 -->
    <div class="game-console">
        <!-- Top section remains -->
        <div class="console-top">
            <div class="brand">PIXEL BRICK</div>
        </div>

        <!-- Screen Area: Now designed to take most space on mobile -->
        <div class="console-screen-area brick-layout">
            <div class="game-screen-bezel">
                <div class="game-screen" id="gameScreenContainer">
                    <canvas id="brickCanvas"></canvas>
                    <!-- Overlays remain inside game-screen -->
                    <div id="gameMessageScreen" class="game-overlay" style="display: flex;">
                        <div class="message-content">
                            <p id="messageText">Ready?</p>
                             <button id="startButton">Let's Play</button>
                        </div>
                    </div>
                     <div id="pauseScreen" class="game-overlay" style="display: none;">
                        <p>Pausing</p>
                    </div>
                     <div id="levelCompleteScreen" class="game-overlay" style="display: none;">
                        <p>Win!</p>
                        <button id="nextLevelButton">Next Level</button>
                    </div>
                </div>
            </div>
            <!-- Info Panel: Will be positioned differently on mobile via CSS -->
            <div class="info-panel info-panel-bricks">
                <div class="info-section">
                    <h4>SCORES</h4>
                    <p id="score">0</p>
                </div>
                 <div class="info-section">
                    <h4>LIVES</h4>
                    <div id="livesContainer" class="lives-display"></div>
                </div>
                <div class="info-section">
                    <h4>MAX_SCORE</h4>
                    <p id="highScore">0</p>
                </div>
                 <div class="info-section">
                    <h4>Levels</h4>
                    <p id="levelDisplay">1</p>
                </div>
                 <div class="info-section info-section-button"> <!-- Add class for easier styling -->
                     <button id="restartButtonPanel" class="action-button info-button">RESTART</button>
                 </div>
            </div>
        </div>

        <!-- Controls: Will be positioned at the bottom on mobile -->
        <div class="console-controls">
             <div class="d-pad">
                <button class="control-button up disabled" aria-label="上 (禁用)"></button>
                <button class="control-button left" id="leftButton" aria-label="向左移动"></button>
                <button class="control-button right" id="rightButton" aria-label="向右移动"></button>
                <button class="control-button down disabled" aria-label="下 (禁用)"></button>
                <div class="center-pivot"></div>
            </div>
            <div class="action-buttons">
                 <button class="action-button pause-act" id="pauseActionButton">PAUSE</button>
                 <button class="action-button shoot" id="launchButton">FIRE / START</button>
            </div>
        </div>

        <!-- Bottom decoration remains -->
        <div class="console-bottom">
            <div class="speaker-grill">
                <span></span><span></span><span></span><span></span><span></span><span></span>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="brick_script.js"></script>
</body>
</html>